<template>
    <div>
        <div v-show="getSearchRes.songs">
            <div>
                <div class="searchHead">
                    <i><svg t="1629428611604" class="icon" viewBox="0 0 1024 1024" version="1.1"
                            xmlns="http://www.w3.org/2000/svg" p-id="1174" width="200" height="200">
                            <path
                                d="M308.693333 798.72a32 32 0 0 1-32-32V170.666667a32 32 0 0 1 32-32h512A32 32 0 0 1 853.333333 170.666667v495.146666a32 32 0 1 1-64 0V202.666667H341.333333v564.053333a32 32 0 0 1-32.64 32z"
                                fill="#33C5FF" p-id="1175"></path>
                            <path
                                d="M223.36 884.053333a117.333333 117.333333 0 1 1 117.333333-117.333333 117.546667 117.546667 0 0 1-117.333333 117.333333z m0-170.666666a53.333333 53.333333 0 1 0 53.333333 53.333333 53.333333 53.333333 0 0 0-53.333333-53.333333zM735.36 798.72a117.333333 117.333333 0 1 1 117.333333-117.333333 117.546667 117.546667 0 0 1-117.333333 117.333333z m0-170.666667a53.333333 53.333333 0 1 0 53.333333 53.333334 53.333333 53.333333 0 0 0-53.333333-53.333334zM799.36 318.506667h-469.333333a32 32 0 1 1 0-64h469.333333a32 32 0 0 1 0 64z"
                                fill="#F86302" p-id="1176"></path>
                            <path
                                d="M789.333333 577.066667v88.746666a32 32 0 0 0 64 5.12 117.546667 117.546667 0 0 0-64-93.866666zM277.333333 662.4v104.32a32 32 0 0 0 64 0 117.12 117.12 0 0 0-64-104.32zM799.36 254.506667H789.333333v64h10.666667a32 32 0 0 0 0-64zM341.333333 318.506667v-64h-10.666666a32 32 0 1 0 0 64z"
                                fill="#314E00" p-id="1177"></path>
                        </svg></i>
                    <span>歌曲</span>
                </div>
                <ul>
                    <li v-for="(song,index) in getSearchRes.songs" :key="song.id" @click="playSong(song.id,index)">
                        <span>{{song.name}}</span><span v-for="artist in song.artists" :key="artist.id">-{{artist.name}}</span></li>
                </ul>
            </div>
            <div>
                <div class="searchHead">
                    <i><svg t="1629428665700" class="icon" viewBox="0 0 1024 1024" version="1.1"
                            xmlns="http://www.w3.org/2000/svg" p-id="2080" width="200" height="200">
                            <path d="M139.269 915.72h745.463v41.75H139.269z" fill="#AFE8E5" p-id="2081"></path>
                            <path
                                d="M614.916 470.837c19.148-10.16 36.885-23.229 52.647-38.991C709.116 390.293 732 335.046 732 276.282s-22.884-114.011-64.437-155.563C626.011 79.166 570.764 56.282 512 56.282c-58.764 0-114.011 22.884-155.563 64.437C314.884 162.271 292 217.518 292 276.282s22.884 114.011 64.437 155.563c15.775 15.776 33.528 28.853 52.694 39.016a356.666 356.666 0 0 0-38.728 14.977c-44 20.016-83.618 48.533-117.753 84.757-33.849 35.922-60.472 77.464-79.127 123.472C154.265 741.561 144.5 791.46 144.5 842.38v21h42v-21c0-45.484 8.729-90.074 25.944-132.53 16.693-41.168 40.504-78.329 70.772-110.45 30.378-32.238 65.563-57.583 104.577-75.331 40.532-18.438 83.407-27.786 127.435-27.786 55.281 0 96.981 12.966 139.437 43.354l17.076 12.223 24.445-34.152-17.075-12.223c-20.897-14.959-41.991-26.403-64.195-34.648zM334 276.282c0-98.149 79.851-178 178-178s178 79.851 178 178-79.851 178-178 178-178-79.85-178-178zM802.181 411.324c-40.804 0-74 33.196-74 74v155.999c0 33.509 22.395 61.871 52.999 70.947V870.5h42V712.27c30.605-9.075 53.001-37.437 53.001-70.947V485.324c0-40.803-33.197-74-74-74z m32 229.999c0 15.174-10.621 27.906-24.816 31.177h-14.368c-14.195-3.27-24.816-16.003-24.816-31.177V485.324c0-17.645 14.355-32 32-32s32 14.355 32 32v155.999z"
                                fill="#23C5BD" p-id="2082"></path>
                        </svg></i>
                    <span>歌手</span>
                </div>
                <ul>
                    <li v-for="songer in getSearchRes.artists" :key="songer.id">{{songer.name}}</li>
                </ul>
            </div>
            <div>
                <div class="searchHead">
                    <i><svg t="1629428689747" class="icon" viewBox="0 0 1024 1024" version="1.1"
                            xmlns="http://www.w3.org/2000/svg" p-id="2872" width="200" height="200">
                            <path
                                d="M512 12.8C787.712 12.8 1011.2 236.288 1011.2 512S787.712 1011.2 512 1011.2 12.8 787.712 12.8 512 236.288 12.8 512 12.8z m0 76.8C278.7072 89.6 89.6 278.7072 89.6 512S278.7072 934.4 512 934.4 934.4 745.2928 934.4 512 745.2928 89.6 512 89.6z m0 281.6a140.8 140.8 0 1 1 0 281.6 140.8 140.8 0 0 1 0-281.6z m0 76.8a64 64 0 1 0 0 128 64 64 0 0 0 0-128z m-14.3872-245.248a38.4 38.4 0 0 1-31.36 44.3136 269.1328 269.1328 0 0 0-217.3952 209.7664 38.4 38.4 0 0 1-75.1872-15.6672A345.9328 345.9328 0 0 1 453.2736 171.3664a38.4 38.4 0 0 1 44.3392 31.3856z"
                                fill="#d4237a" p-id="2873"></path>
                        </svg></i>
                    <span>专辑</span>
                </div>
                <ul>
                    <li v-for="album in getSearchRes.albums" :key="album.id">{{album.name}}</li>
                </ul>
            </div>
            <div>
                <div class="searchHead">
                    <i><svg t="1629428714350" class="icon" viewBox="0 0 1024 1024" version="1.1"
                            xmlns="http://www.w3.org/2000/svg" p-id="3770" width="200" height="200">
                            <path
                                d="M950.196471 124.223546c-9.40337-22.150355-34.981583-32.484766-57.13339-23.082848l-133.201339 56.459438c-17.023092 7.226099-27.053935 24.003722-26.526684 41.437867-0.013072 0.43284-0.031955 0.865679-0.031954 1.301424v395.477515c-28.179609-17.85827-61.591058-28.205753-97.422344-28.205753-100.664284 0-182.26619 81.604811-182.26619 182.264737 0 100.662831 81.603359 182.26619 182.26619 182.26619 100.376692 0 181.795586-81.145827 182.256023-181.416488a43.529441 43.529441 0 0 0 2.312352-14.003381V226.569804l106.66594-45.211415c22.148902-9.40337 32.483313-34.981583 23.081396-57.134843zM112.181016 297.343455h519.955245c26.554281 0 48.078616-21.525787 48.078616-48.077163 0-26.554281-21.522882-48.077163-48.078616-48.077163H112.181016c-26.552828 0-48.075711 21.522882-48.075711 48.077163 0 26.551376 21.524335 48.077163 48.075711 48.077163zM113.890587 434.518786c-26.551376 0-48.075711 21.522882-48.07571 48.077163 0 26.549923 21.524335 48.080068 48.07571 48.080068h367.23545c26.552828 0 48.077163-21.528692 48.077163-48.080068 0-26.552828-21.522882-48.077163-48.077163-48.077163H113.890587zM340.707313 667.848443H113.890587c-26.551376 0-48.075711 21.522882-48.07571 48.078615 0 26.549923 21.524335 48.077163 48.07571 48.077163H340.708766c26.552828 0 48.077163-21.525787 48.077163-48.077163-0.001452-26.555733-21.524335-48.078616-48.078616-48.078615z"
                                fill="#d81e06" p-id="3771"></path>
                        </svg></i>
                    <span>歌单</span>
                </div>
                <ul>
                    <li v-for="playlist in getSearchRes.playlists" :key='playlist.id'>{{playlist.name}}</li>
                </ul>
            </div>
        </div>
        <div class="noData">
            <span v-show="!getSearchRes.songs">暂无数据.....</span>
        </div>
    </div>
</template>
<script>
    import {
        mapGetters,
        mapActions,
        mapMutations
    } from "vuex";
    export default {
        name: 'searchBar1',
        computed: {
            ...mapGetters('searchSongsModule', ['getSearchRes']),
            ...mapGetters('playerModule',['getSongInfo',]),
            ...mapGetters('findSongModule', ['getNewSongs']),
        },
        methods:{
            ...mapMutations('playerModule',['setIsPlay']),
            ...mapActions('playerModule',['getSong']),
           async playSong(id,index){
              let song={};
              song.title=this.getSearchRes.songs[index].name;
              song.pic=this.getSearchRes.songs[index].artists[0].img1v1Url;
              let artist=''
              this.getSearchRes.songs[index].artists.forEach(item=>{
                  artist+=item.name;
              });
              song.artist=artist;
              song.id=this.getSearchRes.songs[index].id;
              this.setIsPlay(true);
              await this.getSong(song);
            }
        },
    }
</script>
<style scoped>
    .noData {
        text-align: center;
        height: 30px;
        line-height: 30px;
        background-color: #393939;
    }

    svg {
        width: 20px;
        height: 20px;
        vertical-align: middle;
    }

    ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .searchHead {
        text-align: left;
        background-color: #393939;
        color: rgb(241, 234, 234);
        font-size: 15px;
    }

    .searchHead>span {
        padding: 0 10px;
        height: 30px;
        line-height: 30px;
    }

    li {
        height: 30px;
        line-height: 30px;
        text-align: left;
        padding-left: 30px;
        background-color: #363636;
        color: rgb(170, 165, 165);
        font-size: 10px;
        letter-spacing: 0.5px;
        cursor: pointer;
    }

    li:hover {
        background-color: #333333;
    }
</style>